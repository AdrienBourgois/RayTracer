#include <SDL2/SDL.h>
#include <iostream>

int main()
{
    bool run = true;

    SDL_Window* window = nullptr;
    SDL_Surface* screenSurface = nullptr;
    SDL_PixelFormat* format = nullptr;//
    //SDL_Color* color;
    //Uint8 index;

    (void)screenSurface;
    if (SDL_Init(SDL_INIT_VIDEO) != 0)
        {
            std::cout<<"SDL init failed"<<std::endl;
        }
    else 
        window = SDL_CreateWindow("Test", SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, 800, 600, SDL_WINDOW_SHOWN);
    if(window == nullptr)
    {
        std::cout<<"SDL create window failed"<<std::endl;
    }
    else
    {
        screenSurface = SDL_GetWindowSurface( window);
        format = screenSurface->format;

        if(format->BitsPerPixel != 8)
        {
            std::cout<<"You dont have an 8-bit surface"<<std::endl;
        }
       
        //Uint32 mapRGB = SDL_MapRGB(screenSurface->format, 255, 0, 0);
        //SDL_FillRect( screenSurface, nullptr, mapRGB);
    }

    Uint32 mapRGB = SDL_MapRGB(screenSurface->format, 255, 0, 0);
    SDL_FillRect( screenSurface, nullptr, mapRGB);

    while(run == true)
    {
        SDL_UpdateWindowSurface( window );
    }

    SDL_DestroyWindow( window );

    SDL_Quit();

    return EXIT_SUCCESS;
}
